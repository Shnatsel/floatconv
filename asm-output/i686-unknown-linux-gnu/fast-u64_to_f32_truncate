floatconv::fast::u64_to_f32_truncate:
 push    edi
 push    esi
 push    eax
 mov     eax, dword, ptr, [esp, +, 16]
 mov     edx, dword, ptr, [esp, +, 20]
 mov     esi, 63
 bsr     ecx, eax
 mov     edi, edx
 cmovne  esi, ecx
 bsr     ecx, edx
 xor     esi, 31
 xor     ecx, 31
 add     esi, 32
 test    edx, edx
 cmove   ecx, esi
 mov     esi, eax
 shl     esi, cl
 shld    edi, eax, cl
 test    cl, 32
 cmovne  edi, esi
 shl     ecx, 23
 mov     esi, 1585446912
 sub     esi, ecx
 shr     edi, 8
 xor     ecx, ecx
 or      eax, edx
 cmovne  ecx, esi
 add     ecx, edi
 movd    xmm0, ecx
 movd    dword, ptr, [esp], xmm0
 fld     dword, ptr, [esp]
 add     esp, 4
 pop     esi
 pop     edi
 ret
