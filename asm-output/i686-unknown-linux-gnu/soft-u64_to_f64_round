floatconv::soft::u64_to_f64_round:
 push    ebx
 push    edi
 push    esi
 sub     esp, 8
 mov     edx, dword, ptr, [esp, +, 24]
 mov     eax, dword, ptr, [esp, +, 28]
 mov     ecx, edx
 or      ecx, eax
 je      .LBB1_1
 bsr     ecx, edx
 bsr     esi, eax
 xor     ecx, 31
 xor     esi, 31
 add     ecx, 32
 test    eax, eax
 cmovne  ecx, esi
 xor     esi, esi
 shld    eax, edx, cl
 shl     edx, cl
 test    cl, 32
 cmove   esi, edx
 cmovne  eax, edx
 mov     edx, eax
 mov     edi, esi
 mov     ebx, esi
 shr     esi, 10
 shr     eax, 11
 shl     edx, 21
 shr     edi, 11
 shl     ebx, 21
 or      edx, edi
 not     edi
 and     edi, esi
 and     edi, 1
 neg     edi
 sbb     ebx, 0
 shl     ecx, 20
 shr     ebx, 31
 sub     eax, ecx
 add     ebx, edx
 adc     eax, 1137704960
 movd    xmm0, ebx
 movd    xmm1, eax
 punpckldq xmm0, xmm1
 jmp     .LBB1_3
.LBB1_1:
 pxor    xmm0, xmm0
.LBB1_3:
 movq    qword, ptr, [esp], xmm0
 fld     qword, ptr, [esp]
 add     esp, 8
 pop     esi
 pop     edi
 pop     ebx
 ret
